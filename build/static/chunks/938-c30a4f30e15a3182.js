"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{1197:(e,t,a)=>{a.d(t,{cn:()=>n});var r=a(2821),s=a(5889);function n(...e){return(0,s.QP)((0,r.$)(e))}},1647:(e,t,a)=>{a.d(t,{E:()=>d});var r=a(5155);a(2115);var s=a(2467),n=a(3101),i=a(1197);let o=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"border-transparent bg-emerald-500/20 text-emerald-400",warning:"border-transparent bg-amber-500/20 text-amber-400",error:"border-transparent bg-red-500/20 text-red-400",info:"border-transparent bg-blue-500/20 text-blue-400",processing:"border-transparent bg-indigo-500/20 text-indigo-400",osint:"border-transparent bg-violet-500/20 text-violet-400"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,asChild:a=!1,...n}){let d=a?s.DX:"span";return(0,r.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(o({variant:t}),e),...n})}},2024:(e,t,a)=>{a.d(t,{t:()=>C});var r=a(5155),s=a(2115),n=a(63),i=a(2619),o=a.n(i),d=a(3998),l=a(5897),c=a(8338),u=a(1197);function x({...e}){return(0,r.jsx)(c.bL,{"data-slot":"dropdown-menu",...e})}function m({...e}){return(0,r.jsx)(c.l9,{"data-slot":"dropdown-menu-trigger",...e})}function f({className:e,sideOffset:t=4,...a}){return(0,r.jsx)(c.ZL,{children:(0,r.jsx)(c.UC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,u.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...a})})}function g({className:e,inset:t,variant:a="default",...s}){return(0,r.jsx)(c.q7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":a,className:(0,u.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function v({className:e,inset:t,...a}){return(0,r.jsx)(c.JU,{"data-slot":"dropdown-menu-label","data-inset":t,className:(0,u.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...a})}function p({className:e,...t}){return(0,r.jsx)(c.wv,{"data-slot":"dropdown-menu-separator",className:(0,u.cn)("bg-border -mx-1 my-1 h-px",e),...t})}var h=a(9384),b=a(8734),j=a(7586),y=a(1169),w=a(906),N=a(7910),k=a(9540),z=a(5870),_=a(4926);let A=[{name:"Dashboard",href:"/portal/dashboard",icon:h.A},{name:"Projects",href:"/portal/projects",icon:b.A},{name:"Messages",href:"/portal/messages",icon:j.A},{name:"Team",href:"/portal/team",icon:y.A},{name:"Activity",href:"/portal/activity",icon:w.A}];function C({children:e}){let[t,a]=(0,s.useState)(null),[i,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!0),b=(0,n.useRouter)(),j=(0,n.usePathname)();(0,s.useEffect)(()=>{y()},[]);let y=async()=>{try{let e=await fetch("/api/auth/session");if(!e.ok)return void b.push("/portal/login");let t=await e.json();a(t.user)}catch{b.push("/portal/login")}finally{h(!1)}},w=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),b.push("/portal/login")}catch(e){console.error("Logout failed:",e)}};return u?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[i&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>c(!1)})}),(0,r.jsx)("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform ${i?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0`,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center h-16 px-4 border-b",children:[(0,r.jsx)(N.A,{className:"h-8 w-8 text-primary mr-3"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Pratejra"}),(0,r.jsx)("p",{className:"text-xs text-gray-600",children:"Portal"})]})]}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:A.map(e=>{let t=j===e.href;return(0,r.jsxs)(o(),{href:e.href,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${t?"bg-primary text-primary-foreground":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>c(!1),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name)})}),(0,r.jsx)("div",{className:"p-4 border-t",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(l.eu,{className:"h-8 w-8",children:[(0,r.jsx)(l.BK,{src:""}),(0,r.jsx)(l.q5,{children:t?.name?.charAt(0)?.toUpperCase()||t?.email?.charAt(0)?.toUpperCase()})]}),(0,r.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:t?.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500 truncate",children:t?.role})]})]})})]})}),(0,r.jsxs)("div",{className:"lg:pl-64",children:[(0,r.jsx)("div",{className:"sticky top-0 z-10 bg-white border-b shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)(d.$,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>c(!0),children:(0,r.jsx)(k.A,{className:"h-5 w-5"})}),(0,r.jsx)("div",{className:"flex-1"}),(0,r.jsxs)(x,{children:[(0,r.jsx)(m,{asChild:!0,children:(0,r.jsx)(d.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,r.jsxs)(l.eu,{className:"h-8 w-8",children:[(0,r.jsx)(l.BK,{src:""}),(0,r.jsx)(l.q5,{children:t?.name?.charAt(0)?.toUpperCase()||t?.email?.charAt(0)?.toUpperCase()})]})})}),(0,r.jsxs)(f,{className:"w-56",align:"end",forceMount:!0,children:[(0,r.jsx)(v,{className:"font-normal",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none",children:t?.name}),(0,r.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:t?.email})]})}),(0,r.jsx)(p,{}),(0,r.jsxs)(g,{children:[(0,r.jsx)(z.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Settings"})]}),(0,r.jsx)(p,{}),(0,r.jsxs)(g,{onClick:w,children:[(0,r.jsx)(_.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Log out"})]})]})]})]})}),(0,r.jsx)("main",{className:"flex-1",children:e})]})]})}},3406:(e,t,a)=>{a.d(t,{Xi:()=>d,av:()=>l,j7:()=>o,tU:()=>i});var r=a(5155);a(2115);var s=a(5667),n=a(1197);function i({className:e,...t}){return(0,r.jsx)(s.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",e),...t})}function o({className:e,...t}){return(0,r.jsx)(s.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function d({className:e,...t}){return(0,r.jsx)(s.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function l({className:e,...t}){return(0,r.jsx)(s.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",e),...t})}},3998:(e,t,a)=>{a.d(t,{$:()=>l});var r=a(5155),s=a(2115),n=a(2467),i=a(3101),o=a(1197);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-[#6366f1] focus-visible:ring-indigo-500/50",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border border-slate-700 bg-transparent text-slate-300 hover:bg-slate-800 hover:text-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 focus-visible:ring-violet-500/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-slate-800 hover:text-accent-foreground dark:hover:bg-accent/50 focus-visible:ring-violet-500/50",glow:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all duration-300",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef(({className:e,variant:t,size:a,asChild:s=!1,...i},l)=>{let c=s?n.DX:"button";return(0,r.jsx)(c,{ref:l,"data-slot":"button",className:(0,o.cn)(d({variant:t,size:a,className:e})),...i})});l.displayName="Button"},5897:(e,t,a)=>{a.d(t,{BK:()=>o,eu:()=>i,q5:()=>d});var r=a(5155);a(2115);var s=a(3366),n=a(1197);function i({className:e,...t}){return(0,r.jsx)(s.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function o({className:e,...t}){return(0,r.jsx)(s._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",e),...t})}function d({className:e,...t}){return(0,r.jsx)(s.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}},6948:(e,t,a)=>{a.d(t,{BT:()=>d,Wu:()=>l,ZB:()=>o,Zp:()=>n,aR:()=>i});var r=a(5155);a(2115);var s=a(1197);function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border border-border shadow-sm hover:border-indigo-500/50 transition-colors duration-300",e),...t})}function i({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function o({className:e,...t}){return(0,r.jsx)("h4",{"data-slot":"card-title",className:(0,s.cn)("leading-none",e),...t})}function d({className:e,...t}){return(0,r.jsx)("p",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground",e),...t})}function l({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6 [&:last-child]:pb-6",e),...t})}}}]);